(this["webpackJsonpbank-counter"]=this["webpackJsonpbank-counter"]||[]).push([[0],{45:function(e){e.exports=JSON.parse('{"employees":[{"name":"\u99ac\u9234\u85af","speed":7},{"name":"\u897f\u7f85\u6469","speed":5},{"name":"\u963f\u6bd4","speed":3},{"name":"\u5de7\u514b\u529b","speed":10},{"name":"\u6cf0\u8fea","speed":8}],"actions":[{"title":"\u4fe1\u7528\u5361\u696d\u52d9","workload":30},{"title":"\u5b58\u6b3e\u696d\u52d9","workload":10},{"title":"\u8cb8\u6b3e\u696d\u52d9","workload":120},{"title":"\u4fdd\u96aa\u696d\u52d9","workload":80},{"title":"\u57fa\u91d1\uff0e\u6295\u8cc7","workload":140},{"title":"\u8ca1\u5bcc\u7ba1\u7406","workload":200}]}')},62:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),o=n.n(c),i=n(16),r=n.n(i),s=(n(62),n(19)),l=n(20),j=n(49),b=n(12),u=n(104),d=n(109),m=n(108),O=n(110),p=n(111),g=n(112),h=n(99),f=n(100),x=n(101),v=n(103),k=n(102),y=n(40);function w(e){var t=e.label,n=e.show,c=e.value;return Object(a.jsxs)(p.a,{position:"relative",display:"inline-flex",width:48,height:48,children:[n&&Object(a.jsx)(h.a,{variant:"determinate",value:c,size:48,color:c>=100?"primary":"secondary"}),Object(a.jsx)(p.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(y.a,{variant:"caption",component:"div",color:"textSecondary",children:t})})]})}function C(e){var t=e.actionItem,n=e.active,o=e.employee,i=e.onDone,r=e.onToggle,l=Object(c.useState)([]),j=Object(s.a)(l,2),u=j[0],d=j[1],m=Object(c.useState)(0),O=Object(s.a)(m,2),p=O[0],h=O[1];Object(c.useEffect)((function(){t&&p<t.action.workload&&setTimeout((function(){return h(p+o.speed)}),120)}),[t,p,o.speed]),t&&p>=t.action.workload&&(i(),d([].concat(Object(b.a)(u),[t.id])),h(0));var y,C=Object(c.useCallback)((function(){return r(!n)}),[n,r]);if(t){var I=t.action.workload;y=Math.min(100,Math.max(0,100*p/I))}return Object(a.jsxs)(f.a,{children:[Object(a.jsx)(x.a,{children:Object(a.jsx)(w,{label:o.name,value:y,show:t})}),Object(a.jsx)(k.a,{primary:t?"\u8655\u7406 #".concat(t.id," - ").concat(t.action.title):"\u9592\u7f6e\u4e2d",secondary:"\u5df2\u8655\u7406\u6848\u4ef6\uff1a ".concat(u.join(", "))}),Object(a.jsx)(v.a,{children:Object(a.jsx)(g.a,{edge:"end",onChange:C,checked:n,disabled:t})})]})}C.defaultProps={actionItem:null};var I=n.p+"static/media/bank.3bfe423a.png",S=n(106),N=n(105),T=n(50),M=n.n(T),B=Object(u.a)((function(e){return{icon:{marginRight:e.spacing(1)},wrapper:{position:"fixed",right:e.spacing(2),bottom:e.spacing(5)}}}));function D(e){var t=e.actions,n=e.waitings,o=void 0===n?0:n,i=e.next,r=void 0===i?1:i,s=e.onClick,l=B(),j=Object(c.useMemo)((function(){return t[(Math.floor(Math.random()*t.length)+r)%t.length]}),[t,r]),b=Object(c.useCallback)((function(){return s({id:r,action:j})}),[s,r,j]);return Object(a.jsxs)(N.a,{className:l.wrapper,color:"primary",onClick:b,variant:"extended",children:[Object(a.jsx)(S.a,{badgeContent:o,color:"secondary",children:Object(a.jsx)(M.a,{className:l.icon})}),"\u4e0b\u4e00\u500b\u865f\u78bc ".concat(r)]})}var F=n(114),P=n(113),J=n(107),z=Object(u.a)((function(e){return{root:{flexGrow:1},ticket:{margin:e.spacing(.2)}}}));function E(e){var t=e.tickets,n=z();return Object(a.jsxs)(J.a,{className:n.root,container:!0,spacing:1,children:[Object(a.jsx)(J.a,{item:!0,xs:4,md:1,children:Object(a.jsx)(y.a,{variant:"h5",color:"secondary",gutterBottom:!0,children:"\u7b49\u5f85\u4e2d\uff1a"})}),Object(a.jsx)(J.a,{item:!0,xs:8,md:11,children:t.map((function(e){return Object(a.jsx)(P.a,{className:n.ticket,clickable:!0,avatar:Object(a.jsx)(F.a,{children:e.id}),label:e.action.title,color:"default",variant:"outlined"},e.id)}))})]})}var L=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundImage:'url("'.concat(I,'")'),backgroundPosition:"center top",backgroundSize:"cover"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(3,2),marginTop:"auto"}}}));function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e.length||!t.length)return[e,[].concat(Object(b.a)(n),Object(b.a)(t))];var a=Object(j.a)(t),c=a[0],o=a.slice(1);return c.active&&!c.actionItem?G(e.slice(1),o,[].concat(Object(b.a)(n),[Object(l.a)(Object(l.a)({},c),{},{actionItem:e[0]})])):G(e,o,[].concat(Object(b.a)(n),[c]))}function H(e){var t=e.employees,n=e.actions,o=L(),i=Object(c.useState)([]),r=Object(s.a)(i,2),j=r[0],u=r[1],p=Object(c.useState)(1),g=Object(s.a)(p,2),h=g[0],f=g[1],x=Object(c.useState)(t.map((function(e){return{active:!0,actionItem:null,employee:e}}))),v=Object(s.a)(x,2),k=v[0],y=v[1],w=function(e){return function(t){return y([].concat(Object(b.a)(k.slice(0,e)),[Object(l.a)(Object(l.a)({},k[e]),{},{active:t})],Object(b.a)(k.slice(e+1))))}},I=G(j,k),S=Object(s.a)(I,2),N=S[0],T=S[1];j.length!==N.length&&(u(N),y(T));var M=Object(c.useCallback)((function(e){u([].concat(Object(b.a)(j),[e])),f(h+1)}),[j,h]);return Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsx)(m.a,{}),Object(a.jsx)(d.a,{component:"main",className:o.main,maxWidth:"sm",children:Object(a.jsx)(O.a,{children:k.map((function(e,t){return Object(a.jsx)(C,{actionItem:e.actionItem,active:e.active,employee:e.employee,onDone:(n=t,function(){return y([].concat(Object(b.a)(k.slice(0,n)),[Object(l.a)(Object(l.a)({},k[n]),{},{actionItem:null})],Object(b.a)(k.slice(n+1))))}),onToggle:w(t)},e.employee.name);var n}))})}),Object(a.jsxs)("footer",{className:o.footer,children:[Object(a.jsx)(E,{tickets:j}),Object(a.jsx)(D,{actions:n,onClick:M,next:h,waitings:j.length})]})]})}var R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))},W=n(45);r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(H,{actions:W.actions,employees:W.employees})}),document.getElementById("root")),R()}},[[71,1,2]]]);
//# sourceMappingURL=main.c90c8be3.chunk.js.map