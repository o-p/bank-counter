(this["webpackJsonpbank-counter"]=this["webpackJsonpbank-counter"]||[]).push([[0],{42:function(e){e.exports=JSON.parse('{"employees":[{"name":"\u99ac\u9234\u85af","speed":7},{"name":"\u897f\u7f85\u6469","speed":5},{"name":"\u963f\u6bd4","speed":3},{"name":"\u5de7\u514b\u529b","speed":10},{"name":"\u6cf0\u8fea","speed":8}],"actions":[{"title":"\u4fe1\u7528\u5361\u696d\u52d9","workload":30},{"title":"\u5b58\u6b3e\u696d\u52d9","workload":10},{"title":"\u8cb8\u6b3e\u696d\u52d9","workload":120},{"title":"\u4fdd\u96aa\u696d\u52d9","workload":80},{"title":"\u57fa\u91d1\uff0e\u6295\u8cc7","workload":140},{"title":"\u8ca1\u5bcc\u7ba1\u7406","workload":200}]}')},60:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),o=n.n(c),i=n(15),r=n.n(i),s=(n(60),n(18)),l=n(29),j=n(47),b=n(13),u=n(97),d=n(101),m=n(100),O=n(102),p=n(103),f=n(93),x=n(94),g=n(95),h=n(96),v=n(38);function k(e){var t=e.value,n=e.label;return Object(a.jsxs)(p.a,{position:"relative",display:"inline-flex",children:[Object(a.jsx)(f.a,{variant:"determinate",value:t}),Object(a.jsx)(p.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(v.a,{variant:"caption",component:"div",color:"textSecondary",children:n})})]})}function y(e){var t,n=e.employee,o=e.onDone,i=e.actionItem,r=Object(c.useState)([]),l=Object(s.a)(r,2),j=l[0],u=l[1],d=Object(c.useState)(0),m=Object(s.a)(d,2),O=m[0],p=m[1];if(Object(c.useEffect)((function(){i&&O<i.action.workload&&setTimeout((function(){return p(O+n.speed)}),120)}),[i,O,n.speed]),i&&O>=i.action.workload&&(o(),u([].concat(Object(b.a)(j),[i.id])),p(0)),i){var f=i.action.workload;t=Math.max(0,100*O/f).toFixed(1)}return Object(a.jsxs)(x.a,{children:[Object(a.jsx)(g.a,{children:Object(a.jsx)(k,{value:t,label:n.name})}),Object(a.jsx)(h.a,{primary:i?"\u8655\u7406 #".concat(i.id," - ").concat(i.action.title):"\u9592\u7f6e\u4e2d",secondary:"\u5df2\u8655\u7406\u6848\u4ef6\uff1a ".concat(j.join(", "))})]})}y.defaultProps={actionItem:null};var w=n.p+"static/media/bank.3bfe423a.png",I=n(98),S=n(48),C=n.n(S),N=Object(u.a)((function(e){return{icon:{marginRight:e.spacing(1)},wrapper:{position:"fixed",right:e.spacing(2),bottom:e.spacing(3)}}}));function F(e){var t=e.actions,n=e.waitings,o=void 0===n?0:n,i=e.next,r=void 0===i?1:i,s=e.onClick,l=N(),j=Object(c.useMemo)((function(){return t[(Math.floor(Math.random()*t.length)+r)%t.length]}),[t,r]),b=Object(c.useCallback)((function(){return s({id:r,action:j})}),[s,r,j]);return Object(a.jsxs)(I.a,{className:l.wrapper,onClick:b,color:"primary",variant:"extended",children:[Object(a.jsx)(C.a,{className:l.icon}),"\u7b49\u5f85\u4eba\u6578 ".concat(o,"\uff0c\u4e0b\u4e00\u500b\u865f\u78bc ").concat(r)]})}var M=n(106),T=n(105),B=n(99),D=Object(u.a)((function(e){return{root:{flexGrow:1},ticket:{margin:e.spacing(.2)}}}));function P(e){var t=e.tickets,n=D();return Object(a.jsxs)(B.a,{className:n.root,container:!0,spacing:1,children:[Object(a.jsx)(B.a,{item:!0,xs:4,md:1,children:Object(a.jsx)(v.a,{variant:"h5",color:"secondary",gutterBottom:!0,children:"\u7b49\u5f85\u4e2d\uff1a"})}),Object(a.jsx)(B.a,{item:!0,xs:8,md:11,children:t.map((function(e){return Object(a.jsx)(T.a,{className:n.ticket,clickable:!0,avatar:Object(a.jsx)(M.a,{children:e.id}),label:e.action.title,color:"default",variant:"outlined"},e.id)}))})]})}var J=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundImage:'url("'.concat(w,'")'),backgroundPosition:"center top",backgroundSize:"cover"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},footer:{padding:e.spacing(3,2),marginTop:"auto"}}}));function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e.length||!t.length)return[e,[].concat(Object(b.a)(n),Object(b.a)(t))];var a=Object(j.a)(t),c=a[0],o=a.slice(1);return c.active&&!c.actionItem?E(e.slice(1),o,[].concat(Object(b.a)(n),[Object(l.a)(Object(l.a)({},c),{},{actionItem:e[0]})])):E(e,o,[].concat(Object(b.a)(n),[c]))}function L(e){var t=e.employees,n=e.actions,o=J(),i=Object(c.useState)([]),r=Object(s.a)(i,2),j=r[0],u=r[1],p=Object(c.useState)(1),f=Object(s.a)(p,2),x=f[0],g=f[1],h=Object(c.useState)(t.map((function(e){return{active:!0,actionItem:null,employee:e}}))),v=Object(s.a)(h,2),k=v[0],w=v[1],I=E(j,k),S=Object(s.a)(I,2),C=S[0],N=S[1];j.length!==C.length&&(u(C),w(N));var M=Object(c.useCallback)((function(e){u([].concat(Object(b.a)(j),[e])),g(x+1)}),[j,x]);return Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsx)(m.a,{}),Object(a.jsx)(d.a,{component:"main",className:o.main,maxWidth:"sm",children:Object(a.jsx)(O.a,{children:k.map((function(e,t){return Object(a.jsx)(y,{actionItem:e.actionItem,employee:e.employee,onDone:(n=t,function(){return w([].concat(Object(b.a)(k.slice(0,n)),[Object(l.a)(Object(l.a)({},k[n]),{},{actionItem:null})],Object(b.a)(k.slice(n+1))))})},e.employee.name);var n}))})}),Object(a.jsxs)("footer",{className:o.footer,children:[Object(a.jsx)(P,{tickets:j}),Object(a.jsx)(F,{actions:n,onClick:M,next:x,waitings:j.length})]})]})}var z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))},G=n(42);r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(L,{actions:G.actions,employees:G.employees})}),document.getElementById("root")),z()}},[[70,1,2]]]);
//# sourceMappingURL=main.ce191383.chunk.js.map